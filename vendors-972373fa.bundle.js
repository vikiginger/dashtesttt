"use strict";(self.webpackChunkcustom_webflow=self.webpackChunkcustom_webflow||[]).push([[573],{267:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?_assertThisInitialized(self):call}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _get(target,property,receiver){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var defaults={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},_default=function(){function _default(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,_default),Object.assign(this,defaults,options),this.smartphone=defaults.smartphone,options.smartphone&&Object.assign(this.smartphone,options.smartphone),this.tablet=defaults.tablet,options.tablet&&Object.assign(this.tablet,options.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return _createClass(_default,[{key:"init",value:function init(){this.initEvents()}},{key:"checkScroll",value:function checkScroll(){this.dispatchScroll()}},{key:"checkResize",value:function checkResize(){var _this=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){_this.resize(),_this.resizeTick=!1})))}},{key:"resize",value:function resize(){}},{key:"checkContext",value:function checkContext(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var oldContext=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",oldContext!=this.context)("desktop"==oldContext?this.smooth:this[oldContext].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function initEvents(){var _this2=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(el){el.addEventListener("click",_this2.setScrollTo,!1)}))}},{key:"setScrollTo",value:function setScrollTo(event){event.preventDefault(),this.scrollTo(event.currentTarget.getAttribute("data-".concat(this.name,"-href"))||event.currentTarget.getAttribute("href"),{offset:event.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function addElements(){}},{key:"detectElements",value:function detectElements(hasCallEventSet){var _this3=this,scrollTop=this.instance.scroll.y,scrollBottom=scrollTop+this.windowHeight,scrollLeft=this.instance.scroll.x,scrollRight=scrollLeft+this.windowWidth;Object.entries(this.els).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),i=_ref2[0],el=_ref2[1];if(!el||el.inView&&!hasCallEventSet||("horizontal"===_this3.direction?scrollRight>=el.left&&scrollLeft<el.right&&_this3.setInView(el,i):scrollBottom>=el.top&&scrollTop<el.bottom&&_this3.setInView(el,i)),el&&el.inView)if("horizontal"===_this3.direction){var width=el.right-el.left;el.progress=(_this3.instance.scroll.x-(el.left-_this3.windowWidth))/(width+_this3.windowWidth),(scrollRight<el.left||scrollLeft>el.right)&&_this3.setOutOfView(el,i)}else{var height=el.bottom-el.top;el.progress=(_this3.instance.scroll.y-(el.top-_this3.windowHeight))/(height+_this3.windowHeight),(scrollBottom<el.top||scrollTop>el.bottom)&&_this3.setOutOfView(el,i)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function setInView(current,i){this.els[i].inView=!0,current.el.classList.add(current.class),this.currentElements[i]=current,current.call&&this.hasCallEventSet&&(this.dispatchCall(current,"enter"),current.repeat||(this.els[i].call=!1))}},{key:"setOutOfView",value:function setOutOfView(current,i){var _this4=this;this.els[i].inView=!1,Object.keys(this.currentElements).forEach((function(el){el===i&&delete _this4.currentElements[el]})),current.call&&this.hasCallEventSet&&this.dispatchCall(current,"exit"),current.repeat&&current.el.classList.remove(current.class)}},{key:"dispatchCall",value:function dispatchCall(current,way){this.callWay=way,this.callValue=current.call.split(",").map((function(item){return item.trim()})),this.callObj=current,1==this.callValue.length&&(this.callValue=this.callValue[0]);var callEvent=new Event(this.namespace+"call");this.el.dispatchEvent(callEvent)}},{key:"dispatchScroll",value:function dispatchScroll(){var scrollEvent=new Event(this.namespace+"scroll");this.el.dispatchEvent(scrollEvent)}},{key:"setEvents",value:function setEvents(event,func){this.listeners[event]||(this.listeners[event]=[]);var list=this.listeners[event];list.push(func),1===list.length&&this.el.addEventListener(this.namespace+event,this.checkEvent,!1),"call"===event&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function unsetEvents(event,func){if(this.listeners[event]){var list=this.listeners[event],index=list.indexOf(func);index<0||(list.splice(index,1),0===list.index&&this.el.removeEventListener(this.namespace+event,this.checkEvent,!1))}}},{key:"checkEvent",value:function checkEvent(event){var _this5=this,name=event.type.replace(this.namespace,""),list=this.listeners[name];list&&0!==list.length&&list.forEach((function(func){switch(name){case"scroll":return func(_this5.instance);case"call":return func(_this5.callValue,_this5.callWay,_this5.callObj);default:return func()}}))}},{key:"startScroll",value:function startScroll(){}},{key:"stopScroll",value:function stopScroll(){}},{key:"setScroll",value:function setScroll(x,y){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function destroy(){var _this6=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(event){_this6.el.removeEventListener(_this6.namespace+event,_this6.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(el){el.removeEventListener("click",_this6.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),_default}(),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var smoothscroll=createCommonjsModule((function(module,exports){module.exports={polyfill:function polyfill(){var w=window,d=document;if(!("scrollBehavior"in d.documentElement.style)||!0===w.__forceSmoothScrollPolyfill__){var Element=w.HTMLElement||w.Element,original={scroll:w.scroll||w.scrollTo,scrollBy:w.scrollBy,elementScroll:Element.prototype.scroll||scrollElement,scrollIntoView:Element.prototype.scrollIntoView},now=w.performance&&w.performance.now?w.performance.now.bind(w.performance):Date.now,ROUNDING_TOLERANCE=function isMicrosoftBrowser(userAgent){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(userAgent)}(w.navigator.userAgent)?1:0;w.scroll=w.scrollTo=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?smoothScroll.call(w,d.body,void 0!==arguments[0].left?~~arguments[0].left:w.scrollX||w.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:w.scrollY||w.pageYOffset):original.scroll.call(w,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:w.scrollX||w.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:w.scrollY||w.pageYOffset))},w.scrollBy=function(){void 0!==arguments[0]&&(shouldBailOut(arguments[0])?original.scrollBy.call(w,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):smoothScroll.call(w,d.body,~~arguments[0].left+(w.scrollX||w.pageXOffset),~~arguments[0].top+(w.scrollY||w.pageYOffset)))},Element.prototype.scroll=Element.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==shouldBailOut(arguments[0])){var left=arguments[0].left,top=arguments[0].top;smoothScroll.call(this,this,void 0===left?this.scrollLeft:~~left,void 0===top?this.scrollTop:~~top)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");original.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},Element.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):original.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},Element.prototype.scrollIntoView=function(){if(!0!==shouldBailOut(arguments[0])){var scrollableParent=findScrollableParent(this),parentRects=scrollableParent.getBoundingClientRect(),clientRects=this.getBoundingClientRect();scrollableParent!==d.body?(smoothScroll.call(this,scrollableParent,scrollableParent.scrollLeft+clientRects.left-parentRects.left,scrollableParent.scrollTop+clientRects.top-parentRects.top),"fixed"!==w.getComputedStyle(scrollableParent).position&&w.scrollBy({left:parentRects.left,top:parentRects.top,behavior:"smooth"})):w.scrollBy({left:clientRects.left,top:clientRects.top,behavior:"smooth"})}else original.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function scrollElement(x,y){this.scrollLeft=x,this.scrollTop=y}function shouldBailOut(firstArg){if(null===firstArg||"object"!=typeof firstArg||void 0===firstArg.behavior||"auto"===firstArg.behavior||"instant"===firstArg.behavior)return!0;if("object"==typeof firstArg&&"smooth"===firstArg.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+firstArg.behavior+" is not a valid value for enumeration ScrollBehavior.")}function hasScrollableSpace(el,axis){return"Y"===axis?el.clientHeight+ROUNDING_TOLERANCE<el.scrollHeight:"X"===axis?el.clientWidth+ROUNDING_TOLERANCE<el.scrollWidth:void 0}function canOverflow(el,axis){var overflowValue=w.getComputedStyle(el,null)["overflow"+axis];return"auto"===overflowValue||"scroll"===overflowValue}function isScrollable(el){var isScrollableY=hasScrollableSpace(el,"Y")&&canOverflow(el,"Y"),isScrollableX=hasScrollableSpace(el,"X")&&canOverflow(el,"X");return isScrollableY||isScrollableX}function findScrollableParent(el){for(;el!==d.body&&!1===isScrollable(el);)el=el.parentNode||el.host;return el}function step(context){var value,currentX,currentY,elapsed=(now()-context.startTime)/468;value=function ease(k){return.5*(1-Math.cos(Math.PI*k))}(elapsed=elapsed>1?1:elapsed),currentX=context.startX+(context.x-context.startX)*value,currentY=context.startY+(context.y-context.startY)*value,context.method.call(context.scrollable,currentX,currentY),currentX===context.x&&currentY===context.y||w.requestAnimationFrame(step.bind(w,context))}function smoothScroll(el,x,y){var scrollable,startX,startY,method,startTime=now();el===d.body?(scrollable=w,startX=w.scrollX||w.pageXOffset,startY=w.scrollY||w.pageYOffset,method=original.scroll):(scrollable=el,startX=el.scrollLeft,startY=el.scrollTop,method=scrollElement),step({scrollable,method,startTime,startX,startY,x,y})}}}})),_default$1=(smoothscroll.polyfill,function(_Core){_inherits(_default,_Core);var _super=_createSuper(_default);function _default(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,_default),(_this=_super.call(this,options)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",_this.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=smoothscroll,window.smoothscrollPolyfill.polyfill()),_this}return _createClass(_default,[{key:"init",value:function init(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),_get(_getPrototypeOf(_default.prototype),"init",this).call(this)}},{key:"checkScroll",value:function checkScroll(){var _this2=this;_get(_getPrototypeOf(_default.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){_this2.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function addDirection(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function addSpeed(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function resize(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function addElements(){var _this3=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(el,index){el.getBoundingClientRect();var top,left,targetEl,cl=el.dataset[_this3.name+"Class"]||_this3.class,id="string"==typeof el.dataset[_this3.name+"Id"]?el.dataset[_this3.name+"Id"]:index,offset="string"==typeof el.dataset[_this3.name+"Offset"]?el.dataset[_this3.name+"Offset"].split(","):_this3.offset,repeat=el.dataset[_this3.name+"Repeat"],call=el.dataset[_this3.name+"Call"],target=el.dataset[_this3.name+"Target"],targetElBCR=(targetEl=void 0!==target?document.querySelector("".concat(target)):el).getBoundingClientRect();top=targetElBCR.top+_this3.instance.scroll.y,left=targetElBCR.left+_this3.instance.scroll.x;var bottom=top+targetEl.offsetHeight,right=left+targetEl.offsetWidth;repeat="false"!=repeat&&(null!=repeat||_this3.repeat);var relativeOffset=_this3.getRelativeOffset(offset),mappedEl={el,targetEl,id,class:cl,top:top+=relativeOffset[0],bottom:bottom-=relativeOffset[1],left,right,offset,progress:0,repeat,inView:!1,call};_this3.els[id]=mappedEl,el.classList.contains(cl)&&_this3.setInView(_this3.els[id],id)}))}},{key:"updateElements",value:function updateElements(){var _this4=this;Object.entries(this.els).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),i=_ref2[0],el=_ref2[1],top=el.targetEl.getBoundingClientRect().top+_this4.instance.scroll.y,bottom=top+el.targetEl.offsetHeight,relativeOffset=_this4.getRelativeOffset(el.offset);_this4.els[i].top=top+relativeOffset[0],_this4.els[i].bottom=bottom-relativeOffset[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function getRelativeOffset(offset){var relativeOffset=[0,0];if(offset)for(var i=0;i<offset.length;i++)"string"==typeof offset[i]?offset[i].includes("%")?relativeOffset[i]=parseInt(offset[i].replace("%","")*this.windowHeight/100):relativeOffset[i]=parseInt(offset[i]):relativeOffset[i]=offset[i];return relativeOffset}},{key:"scrollTo",value:function scrollTo(target){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},offset=parseInt(options.offset)||0,callback=!!options.callback&&options.callback;if("string"==typeof target){if("top"===target)target=this.html;else if("bottom"===target)target=this.html.offsetHeight-window.innerHeight;else if(!(target=document.querySelector(target)))return}else if("number"==typeof target)target=parseInt(target);else if(!target||!target.tagName)return void console.warn("`target` parameter is not valid");offset="number"!=typeof target?target.getBoundingClientRect().top+offset+this.instance.scroll.y:target+offset;var isTargetReached=function isTargetReached(){return parseInt(window.pageYOffset)===parseInt(offset)};if(callback){if(isTargetReached())return void callback();var onScroll=function onScroll(){isTargetReached()&&(window.removeEventListener("scroll",onScroll),callback())};window.addEventListener("scroll",onScroll)}window.scrollTo({top:offset,behavior:0===options.duration?"auto":"smooth"})}},{key:"update",value:function update(){this.addElements(),this.detectElements()}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(_default.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),_default}(_default)),getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}var objectAssign=function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map((function(n){return test2[n]})).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to};function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});return(e[name]||(e[name]=[])).push({fn:callback,ctx}),this},once:function(name,callback,ctx){var self=this;function listener(){self.off(name,listener),callback.apply(ctx,arguments)}return listener._=callback,this.on(name,listener,ctx)},emit:function(name){for(var data=[].slice.call(arguments,1),evtArr=((this.e||(this.e={}))[name]||[]).slice(),i=0,len=evtArr.length;i<len;i++)evtArr[i].fn.apply(evtArr[i].ctx,data);return this},off:function(name,callback){var e=this.e||(this.e={}),evts=e[name],liveEvents=[];if(evts&&callback)for(var i=0,len=evts.length;i<len;i++)evts[i].fn!==callback&&evts[i].fn._!==callback&&liveEvents.push(evts[i]);return liveEvents.length?e[name]=liveEvents:delete e[name],this}};var tinyEmitter=E,lethargy=createCommonjsModule((function(module,exports){(function(){(null!==exports?exports:this).Lethargy=function(){function Lethargy(stability,sensitivity,tolerance,delay){this.stability=null!=stability?Math.abs(stability):8,this.sensitivity=null!=sensitivity?1+Math.abs(sensitivity):100,this.tolerance=null!=tolerance?1+Math.abs(tolerance):1.1,this.delay=null!=delay?delay:150,this.lastUpDeltas=function(){var i,ref,results;for(results=[],i=1,ref=2*this.stability;1<=ref?i<=ref:i>=ref;1<=ref?i++:i--)results.push(null);return results}.call(this),this.lastDownDeltas=function(){var i,ref,results;for(results=[],i=1,ref=2*this.stability;1<=ref?i<=ref:i>=ref;1<=ref?i++:i--)results.push(null);return results}.call(this),this.deltasTimestamp=function(){var i,ref,results;for(results=[],i=1,ref=2*this.stability;1<=ref?i<=ref:i>=ref;1<=ref?i++:i--)results.push(null);return results}.call(this)}return Lethargy.prototype.check=function(e){var lastDelta;return null!=(e=e.originalEvent||e).wheelDelta?lastDelta=e.wheelDelta:null!=e.deltaY?lastDelta=-40*e.deltaY:null==e.detail&&0!==e.detail||(lastDelta=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),lastDelta>0?(this.lastUpDeltas.push(lastDelta),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(lastDelta),this.lastDownDeltas.shift(),this.isInertia(-1))},Lethargy.prototype.isInertia=function(direction){var lastDeltas,lastDeltasNew,lastDeltasOld,newAverage,newSum,oldAverage,oldSum;return null===(lastDeltas=-1===direction?this.lastDownDeltas:this.lastUpDeltas)[0]?direction:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&lastDeltas[0]===lastDeltas[2*this.stability-1])&&(lastDeltasOld=lastDeltas.slice(0,this.stability),lastDeltasNew=lastDeltas.slice(this.stability,2*this.stability),oldSum=lastDeltasOld.reduce((function(t,s){return t+s})),newSum=lastDeltasNew.reduce((function(t,s){return t+s})),oldAverage=oldSum/lastDeltasOld.length,newAverage=newSum/lastDeltasNew.length,Math.abs(oldAverage)<Math.abs(newAverage*this.tolerance)&&this.sensitivity<Math.abs(newAverage)&&direction)},Lethargy.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},Lethargy.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},Lethargy}()}).call(commonjsGlobal)})),support=function getSupport(){return{hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}}(),toString=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty;function bind(func,context){return function(){return func.apply(context,arguments)}}var Lethargy=lethargy.Lethargy,EVT_ID="virtualscroll",src=VirtualScroll,keyCodes_LEFT=37,keyCodes_UP=38,keyCodes_RIGHT=39,keyCodes_DOWN=40,keyCodes_SPACE=32;function VirtualScroll(options){!function(object){if(!object)return console.warn("bindAll requires at least one argument.");var functions=Array.prototype.slice.call(arguments,1);if(0===functions.length)for(var method in object)hasOwnProperty$1.call(object,method)&&"function"==typeof object[method]&&"[object Function]"==toString.call(object[method])&&functions.push(method);for(var i=0;i<functions.length;i++){var f=functions[i];object[f]=bind(object[f],object)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,options&&options.el&&(this.el=options.el,delete options.el),this.options=objectAssign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},options),this.options.limitInertia&&(this._lethargy=new Lethargy),this._emitter=new tinyEmitter,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function lerp(start,end,amt){return(1-amt)*start+amt*end}function getTranslate(el){var translate={};if(window.getComputedStyle){var style=getComputedStyle(el),transform=style.transform||style.webkitTransform||style.mozTransform,mat=transform.match(/^matrix3d\((.+)\)$/);return mat?(translate.x=mat?parseFloat(mat[1].split(", ")[12]):0,translate.y=mat?parseFloat(mat[1].split(", ")[13]):0):(mat=transform.match(/^matrix\((.+)\)$/),translate.x=mat?parseFloat(mat[1].split(", ")[4]):0,translate.y=mat?parseFloat(mat[1].split(", ")[5]):0),translate}}function getParents(elem){for(var parents=[];elem&&elem!==document;elem=elem.parentNode)parents.push(elem);return parents}VirtualScroll.prototype._notify=function(e){var evt=this._event;evt.x+=evt.deltaX,evt.y+=evt.deltaY,this._emitter.emit(EVT_ID,{x:evt.x,y:evt.y,deltaX:evt.deltaX,deltaY:evt.deltaY,originalEvent:e})},VirtualScroll.prototype._onWheel=function(e){var options=this.options;if(!this._lethargy||!1!==this._lethargy.check(e)){var evt=this._event;evt.deltaX=e.wheelDeltaX||-1*e.deltaX,evt.deltaY=e.wheelDeltaY||-1*e.deltaY,support.isFirefox&&1==e.deltaMode&&(evt.deltaX*=options.firefoxMultiplier,evt.deltaY*=options.firefoxMultiplier),evt.deltaX*=options.mouseMultiplier,evt.deltaY*=options.mouseMultiplier,this._notify(e)}},VirtualScroll.prototype._onMouseWheel=function(e){if(!this.options.limitInertia||!1!==this._lethargy.check(e)){var evt=this._event;evt.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,evt.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,this._notify(e)}},VirtualScroll.prototype._onTouchStart=function(e){var t=e.targetTouches?e.targetTouches[0]:e;this.touchStartX=t.pageX,this.touchStartY=t.pageY},VirtualScroll.prototype._onTouchMove=function(e){var options=this.options;options.preventTouch&&!e.target.classList.contains(options.unpreventTouchClass)&&e.preventDefault();var evt=this._event,t=e.targetTouches?e.targetTouches[0]:e;evt.deltaX=(t.pageX-this.touchStartX)*options.touchMultiplier,evt.deltaY=(t.pageY-this.touchStartY)*options.touchMultiplier,this.touchStartX=t.pageX,this.touchStartY=t.pageY,this._notify(e)},VirtualScroll.prototype._onKeyDown=function(e){var evt=this._event;evt.deltaX=evt.deltaY=0;var windowHeight=window.innerHeight-40;switch(e.keyCode){case keyCodes_LEFT:case keyCodes_UP:evt.deltaY=this.options.keyStep;break;case keyCodes_RIGHT:case keyCodes_DOWN:evt.deltaY=-this.options.keyStep;break;case e.shiftKey:evt.deltaY=windowHeight;break;case keyCodes_SPACE:evt.deltaY=-windowHeight;break;default:return}this._notify(e)},VirtualScroll.prototype._bind=function(){support.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),support.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),support.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),support.hasPointer&&support.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),support.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},VirtualScroll.prototype._unbind=function(){support.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),support.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),support.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),support.hasPointer&&support.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),support.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},VirtualScroll.prototype.on=function(cb,ctx){this._emitter.on(EVT_ID,cb,ctx);var events=this._emitter.e;events&&events[EVT_ID]&&1===events[EVT_ID].length&&this._bind()},VirtualScroll.prototype.off=function(cb,ctx){this._emitter.off(EVT_ID,cb,ctx);var events=this._emitter.e;(!events[EVT_ID]||events[EVT_ID].length<=0)&&this._unbind()},VirtualScroll.prototype.reset=function(){var evt=this._event;evt.x=0,evt.y=0},VirtualScroll.prototype.destroy=function(){this._emitter.off(),this._unbind()};var float32ArraySupported="function"==typeof Float32Array;function A(aA1,aA2){return 1-3*aA2+3*aA1}function B(aA1,aA2){return 3*aA2-6*aA1}function C(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*A(aA1,aA2)*aT*aT+2*B(aA1,aA2)*aT+C(aA1)}function LinearEasing(x){return x}var src$1=function bezier(mX1,mY1,mX2,mY2){if(!(0<=mX1&&mX1<=1&&0<=mX2&&mX2<=1))throw new Error("bezier x values must be in [0, 1] range");if(mX1===mY1&&mX2===mY2)return LinearEasing;for(var sampleValues=float32ArraySupported?new Float32Array(11):new Array(11),i=0;i<11;++i)sampleValues[i]=calcBezier(.1*i,mX1,mX2);function getTForX(aX){for(var intervalStart=0,currentSample=1;10!==currentSample&&sampleValues[currentSample]<=aX;++currentSample)intervalStart+=.1;--currentSample;var guessForT=intervalStart+.1*((aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample])),initialSlope=getSlope(guessForT,mX1,mX2);return initialSlope>=.001?function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(var i=0;i<4;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(0===currentSlope)return aGuessT;aGuessT-=(calcBezier(aGuessT,mX1,mX2)-aX)/currentSlope}return aGuessT}(aX,guessForT,mX1,mX2):0===initialSlope?guessForT:function binarySubdivide(aX,aA,aB,mX1,mX2){var currentX,currentT,i=0;do{(currentX=calcBezier(currentT=aA+(aB-aA)/2,mX1,mX2)-aX)>0?aB=currentT:aA=currentT}while(Math.abs(currentX)>1e-7&&++i<10);return currentT}(aX,intervalStart,intervalStart+.1,mX1,mX2)}return function BezierEasing(x){return 0===x?0:1===x?1:calcBezier(getTForX(x),mY1,mY2)}},keyCodes$1_UP=38,keyCodes$1_DOWN=40,keyCodes$1_SPACE=32,keyCodes$1_TAB=9,keyCodes$1_PAGEUP=33,keyCodes$1_PAGEDOWN=34,keyCodes$1_HOME=36,keyCodes$1_END=35,_default$2=function(_Core){_inherits(_default,_Core);var _super=_createSuper(_default);function _default(){var _this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,_default),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(_this=_super.call(this,options)).inertia&&(_this.lerp=.1*_this.inertia),_this.isScrolling=!1,_this.isDraggingScrollbar=!1,_this.isTicking=!1,_this.hasScrollTicking=!1,_this.parallaxElements={},_this.stop=!1,_this.scrollbarContainer=options.scrollbarContainer,_this.checkKey=_this.checkKey.bind(_assertThisInitialized(_this)),window.addEventListener("keydown",_this.checkKey,!1),_this}return _createClass(_default,[{key:"init",value:function init(){var _this2=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=_objectSpread2({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new src({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){_this2.stop||_this2.isDraggingScrollbar||requestAnimationFrame((function(){_this2.updateDelta(e),_this2.isScrolling||_this2.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),_get(_getPrototypeOf(_default.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function setScrollLimit(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var totalWidth=0,nodes=this.el.children,i=0;i<nodes.length;i++)totalWidth+=nodes[i].offsetWidth;this.instance.limit.x=totalWidth-this.windowWidth}}},{key:"startScrolling",value:function startScrolling(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function stopScrolling(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function checkKey(e){var _this3=this;if(this.stop)e.keyCode==keyCodes$1_TAB&&requestAnimationFrame((function(){_this3.html.scrollTop=0,document.body.scrollTop=0,_this3.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(e.keyCode){case keyCodes$1_TAB:requestAnimationFrame((function(){_this3.html.scrollTop=0,document.body.scrollTop=0,_this3.html.scrollLeft=0,document.body.scrollLeft=0,_this3.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case keyCodes$1_UP:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case keyCodes$1_DOWN:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case keyCodes$1_PAGEUP:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case keyCodes$1_PAGEDOWN:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case keyCodes$1_HOME:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case keyCodes$1_END:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case keyCodes$1_SPACE:this.isActiveElementScrollSensitive()&&(e.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function isActiveElementScrollSensitive(){return!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLButtonElement||document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function checkScroll(){var _this4=this,forced=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(forced||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return _this4.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var distance=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),timeSinceStart=Date.now()-this.startScrollTs;if(!this.animatingScroll&&timeSinceStart>100&&(distance<.5&&0!=this.instance.delta[this.directionAxis]||distance<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(_ref){var _ref2=_slicedToArray(_ref,2),section=(_ref2[0],_ref2[1]);section.persistent||_this4.instance.scroll[_this4.directionAxis]>section.offset[_this4.directionAxis]&&_this4.instance.scroll[_this4.directionAxis]<section.limit[_this4.directionAxis]?("horizontal"===_this4.direction?_this4.transform(section.el,-_this4.instance.scroll[_this4.directionAxis],0):_this4.transform(section.el,0,-_this4.instance.scroll[_this4.directionAxis]),section.inView||(section.inView=!0,section.el.style.opacity=1,section.el.style.pointerEvents="all",section.el.setAttribute("data-".concat(_this4.name,"-section-inview"),""))):((section.inView||forced)&&(section.inView=!1,section.el.style.opacity=0,section.el.style.pointerEvents="none",section.el.removeAttribute("data-".concat(_this4.name,"-section-inview"))),_this4.transform(section.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var scrollBarTranslation=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,scrollBarTranslation,0):this.transform(this.scrollbarThumb,0,scrollBarTranslation)}_get(_getPrototypeOf(_default.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function resize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function updateDelta(e){var delta,gestureDirection=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;delta="both"===gestureDirection?e.deltaX+e.deltaY:"vertical"===gestureDirection?e.deltaY:"horizontal"===gestureDirection?e.deltaX:e.deltaY,this.instance.delta[this.directionAxis]-=delta*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function updateScroll(e){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=lerp(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function addDirection(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function addSpeed(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function initScrollBar(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function reinitScrollBar(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function destroyScrollBar(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function getScrollBar(e){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function releaseScrollBar(e){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function moveScrollBar(e){var _this5=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var x=100*(e.clientX-_this5.scrollbarBCR.left)/_this5.scrollbarWidth*_this5.instance.limit.x/100,y=100*(e.clientY-_this5.scrollbarBCR.top)/_this5.scrollbarHeight*_this5.instance.limit.y/100;y>0&&y<_this5.instance.limit.y&&(_this5.instance.delta.y=y),x>0&&x<_this5.instance.limit.x&&(_this5.instance.delta.x=x)}))}},{key:"addElements",value:function addElements(){var _this6=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(el,index){var top,left,targetEl,targetParents=getParents(el),section=Object.entries(_this6.sections).map((function(_ref3){var _ref4=_slicedToArray(_ref3,2);_ref4[0];return _ref4[1]})).find((function(section){return targetParents.includes(section.el)})),cl=el.dataset[_this6.name+"Class"]||_this6.class,id="string"==typeof el.dataset[_this6.name+"Id"]?el.dataset[_this6.name+"Id"]:"el"+index,repeat=el.dataset[_this6.name+"Repeat"],call=el.dataset[_this6.name+"Call"],position=el.dataset[_this6.name+"Position"],delay=el.dataset[_this6.name+"Delay"],direction=el.dataset[_this6.name+"Direction"],sticky="string"==typeof el.dataset[_this6.name+"Sticky"],speed=!!el.dataset[_this6.name+"Speed"]&&parseFloat(el.dataset[_this6.name+"Speed"])/10,offset="string"==typeof el.dataset[_this6.name+"Offset"]?el.dataset[_this6.name+"Offset"].split(","):_this6.offset,target=el.dataset[_this6.name+"Target"],targetElBCR=(targetEl=void 0!==target?document.querySelector("".concat(target)):el).getBoundingClientRect();null===section||section.inView?(top=targetElBCR.top+_this6.instance.scroll.y-getTranslate(targetEl).y,left=targetElBCR.left+_this6.instance.scroll.x-getTranslate(targetEl).x):(top=targetElBCR.top-getTranslate(section.el).y-getTranslate(targetEl).y,left=targetElBCR.left-getTranslate(section.el).x-getTranslate(targetEl).x);var bottom=top+targetEl.offsetHeight,right=left+targetEl.offsetWidth,middle={x:(right-left)/2+left,y:(bottom-top)/2+top};if(sticky){var elBCR=el.getBoundingClientRect(),elTop=elBCR.top,elLeft=elBCR.left,elDistance={x:elLeft-left,y:elTop-top};top+=window.innerHeight,left+=window.innerWidth,bottom=elTop+targetEl.offsetHeight-el.offsetHeight-elDistance[_this6.directionAxis],middle={x:((right=elLeft+targetEl.offsetWidth-el.offsetWidth-elDistance[_this6.directionAxis])-left)/2+left,y:(bottom-top)/2+top}}repeat="false"!=repeat&&(null!=repeat||_this6.repeat);var relativeOffset=[0,0];if(offset)if("horizontal"===_this6.direction){for(var i=0;i<offset.length;i++)"string"==typeof offset[i]?offset[i].includes("%")?relativeOffset[i]=parseInt(offset[i].replace("%","")*_this6.windowWidth/100):relativeOffset[i]=parseInt(offset[i]):relativeOffset[i]=offset[i];left+=relativeOffset[0],right-=relativeOffset[1]}else{for(i=0;i<offset.length;i++)"string"==typeof offset[i]?offset[i].includes("%")?relativeOffset[i]=parseInt(offset[i].replace("%","")*_this6.windowHeight/100):relativeOffset[i]=parseInt(offset[i]):relativeOffset[i]=offset[i];top+=relativeOffset[0],bottom-=relativeOffset[1]}var mappedEl={el,id,class:cl,section,top,middle,bottom,left,right,offset,progress:0,repeat,inView:!1,call,speed,delay,position,target:targetEl,direction,sticky};_this6.els[id]=mappedEl,el.classList.contains(cl)&&_this6.setInView(_this6.els[id],id),(!1!==speed||sticky)&&(_this6.parallaxElements[id]=mappedEl)}))}},{key:"addSections",value:function addSections(){var _this7=this;this.sections={};var sections=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===sections.length&&(sections=[this.el]),sections.forEach((function(section,index){var id="string"==typeof section.dataset[_this7.name+"Id"]?section.dataset[_this7.name+"Id"]:"section"+index,sectionBCR=section.getBoundingClientRect(),offset={x:sectionBCR.left-1.5*window.innerWidth-getTranslate(section).x,y:sectionBCR.top-1.5*window.innerHeight-getTranslate(section).y},limit={x:offset.x+sectionBCR.width+2*window.innerWidth,y:offset.y+sectionBCR.height+2*window.innerHeight},persistent="string"==typeof section.dataset[_this7.name+"Persistent"];section.setAttribute("data-scroll-section-id",id);var mappedSection={el:section,offset,limit,inView:!1,persistent,id};_this7.sections[id]=mappedSection}))}},{key:"transform",value:function transform(element,x,y,delay){var transform;if(delay){var start=getTranslate(element),lerpX=lerp(start.x,x,delay),lerpY=lerp(start.y,y,delay);transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(lerpX,",").concat(lerpY,",0,1)")}else transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(x,",").concat(y,",0,1)");element.style.webkitTransform=transform,element.style.msTransform=transform,element.style.transform=transform}},{key:"transformElements",value:function transformElements(isForced){var _this8=this,setAllElements=arguments.length>1&&void 0!==arguments[1]&&arguments[1],scrollRight=this.instance.scroll.x+this.windowWidth,scrollBottom=this.instance.scroll.y+this.windowHeight,scrollMiddle={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(_ref5){var _ref6=_slicedToArray(_ref5,2),current=(_ref6[0],_ref6[1]),transformDistance=!1;if(isForced&&(transformDistance=0),current.inView||setAllElements)switch(current.position){case"top":case"left":transformDistance=_this8.instance.scroll[_this8.directionAxis]*-current.speed;break;case"elementTop":transformDistance=(scrollBottom-current.top)*-current.speed;break;case"bottom":transformDistance=(_this8.instance.limit[_this8.directionAxis]-scrollBottom+_this8.windowHeight)*current.speed;break;case"elementLeft":transformDistance=(scrollRight-current.left)*-current.speed;break;case"right":transformDistance=(_this8.instance.limit[_this8.directionAxis]-scrollRight+_this8.windowHeight)*current.speed;break;default:transformDistance=(scrollMiddle[_this8.directionAxis]-current.middle[_this8.directionAxis])*-current.speed}current.sticky&&(transformDistance=current.inView?"horizontal"===_this8.direction?_this8.instance.scroll.x-current.left+window.innerWidth:_this8.instance.scroll.y-current.top+window.innerHeight:"horizontal"===_this8.direction?_this8.instance.scroll.x<current.left-window.innerWidth&&_this8.instance.scroll.x<current.left-window.innerWidth/2?0:_this8.instance.scroll.x>current.right&&_this8.instance.scroll.x>current.right+100&&current.right-current.left+window.innerWidth:_this8.instance.scroll.y<current.top-window.innerHeight&&_this8.instance.scroll.y<current.top-window.innerHeight/2?0:_this8.instance.scroll.y>current.bottom&&_this8.instance.scroll.y>current.bottom+100&&current.bottom-current.top+window.innerHeight),!1!==transformDistance&&("horizontal"===current.direction||"horizontal"===_this8.direction&&"vertical"!==current.direction?_this8.transform(current.el,transformDistance,0,!isForced&&current.delay):_this8.transform(current.el,0,transformDistance,!isForced&&current.delay))}))}},{key:"scrollTo",value:function scrollTo(target){var _this9=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},offset=parseInt(options.offset)||0,duration=isNaN(parseInt(options.duration))?1e3:parseInt(options.duration),easing=options.easing||[.25,0,.35,1],disableLerp=!!options.disableLerp,callback=!!options.callback&&options.callback;if(easing=src$1.apply(void 0,_toConsumableArray(easing)),"string"==typeof target){if("top"===target)target=0;else if("bottom"===target)target=this.instance.limit.y;else if("left"===target)target=0;else if("right"===target)target=this.instance.limit.x;else if(!(target=document.querySelector(target)))return}else if("number"==typeof target)target=parseInt(target);else if(!target||!target.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof target){var targetInScope=getParents(target).includes(this.el);if(!targetInScope)return;var targetBCR=target.getBoundingClientRect(),offsetTop=targetBCR.top,offsetLeft=targetBCR.left,targetParents=getParents(target),parentSection=targetParents.find((function(candidate){return Object.entries(_this9.sections).map((function(_ref7){var _ref8=_slicedToArray(_ref7,2);_ref8[0];return _ref8[1]})).find((function(section){return section.el==candidate}))})),parentSectionOffset=0;parentSectionOffset=parentSection?getTranslate(parentSection)[this.directionAxis]:-this.instance.scroll[this.directionAxis],offset="horizontal"===this.direction?offsetLeft+offset-parentSectionOffset:offsetTop+offset-parentSectionOffset}else offset=target+offset;var scrollStart=parseFloat(this.instance.delta[this.directionAxis]),scrollTarget=Math.max(0,Math.min(offset,this.instance.limit[this.directionAxis])),scrollDiff=scrollTarget-scrollStart,render=function render(p){disableLerp?"horizontal"===_this9.direction?_this9.setScroll(scrollStart+scrollDiff*p,_this9.instance.delta.y):_this9.setScroll(_this9.instance.delta.x,scrollStart+scrollDiff*p):_this9.instance.delta[_this9.directionAxis]=scrollStart+scrollDiff*p};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var start=Date.now(),loop=function loop(){var p=(Date.now()-start)/duration;p>1?(render(1),_this9.animatingScroll=!1,0==duration&&_this9.update(),callback&&callback()):(_this9.scrollToRaf=requestAnimationFrame(loop),render(easing(p)))};loop()}},{key:"update",value:function update(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function startScroll(){this.stop=!1}},{key:"stopScroll",value:function stopScroll(){this.stop=!0}},{key:"setScroll",value:function setScroll(x,y){this.instance=_objectSpread2(_objectSpread2({},this.instance),{},{scroll:{x,y},delta:{x,y},speed:0})}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(_default.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),_default}(_default);const __WEBPACK_DEFAULT_EXPORT__=function(){function Smooth(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Smooth),this.options=options,Object.assign(this,defaults,options),this.smartphone=defaults.smartphone,options.smartphone&&Object.assign(this.smartphone,options.smartphone),this.tablet=defaults.tablet,options.tablet&&Object.assign(this.tablet,options.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return _createClass(Smooth,[{key:"init",value:function init(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new _default$2(this.options):this.scroll=new _default$1(this.options),this.scroll.init(),window.location.hash){var id=window.location.hash.slice(1,window.location.hash.length),target=document.getElementById(id);target&&this.scroll.scrollTo(target)}}},{key:"update",value:function update(){this.scroll.update()}},{key:"start",value:function start(){this.scroll.startScroll()}},{key:"stop",value:function stop(){this.scroll.stopScroll()}},{key:"scrollTo",value:function scrollTo(target,options){this.scroll.scrollTo(target,options)}},{key:"setScroll",value:function setScroll(x,y){this.scroll.setScroll(x,y)}},{key:"on",value:function on(event,func){this.scroll.setEvents(event,func)}},{key:"off",value:function off(event,func){this.scroll.unsetEvents(event,func)}},{key:"destroy",value:function destroy(){this.scroll.destroy()}}]),Smooth}()}}]);